


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>  Pysquery |    white.</title>
  <meta name="description" content="A minimalist theme for hexo.">
  <!-- æ ‡ç­¾é¡µå›¾æ ‡ -->
  

  <!-- å›¾æ ‡åº“ -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
  <!-- åŠ¨ç”»åº“ -->
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/css/animate.css"/>
  
  <!-- cssæ–‡ä»¶ -->
  
<link rel="stylesheet" href="/css/white.css">

  <!-- ä»£ç é«˜äº® -->
  
    
      
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.1.1/styles/github.css">

    
  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>

<div class="menu-outer">
    <div class="menu-inner">
      <div class="menu-site-name  animate__animated  animate__fadeInUp">
        <a href="/">
          white.
        </a>
        
      </div>
      <div class="menu-group">
        <ul class="menu-ul">
        
          <a href="/" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              HOME
            </li>
          </a>
        
          <a href="/archives" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              BLOG
            </li>
          </a>
        
        
        
          <li class="menu-li animate__animated  animate__fadeInUp" id="mobile-menu">
            <i class="ri-menu-line"></i>
          </li>
        
        </ul>

      </div>

    </div>
</div>
<div id="mobile-main" class="animate__animated  animate__fadeIn">
  <div class="mobile-menu-inner">
    <div class="mobile-menu-site-name animate__animated  animate__fadeInUp">
      <a href="/">
        white.
      </a>
    </div>
    <div class="mobile-menu-group" id="mobile-close">
      <i class="ri-close-line"></i>
    </div>

  </div>

  <div class="mobile-menu-div">
  
    <a href="/" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>HOME</span>
      </div>
    </a>
  
    <a href="/archives" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>BLOG</span>
      </div>
    </a>
  
  
  </div>


</div>

<div class="body-outer">
  <div class="body-inner">
    
<article class="post-inner">
  <div class="post-content-outer">
    <div class="post-intro">
      <div class="post-title animate__animated  animate__fadeInUp">pysquery</div>
      <div class="meta-intro animate__animated  animate__fadeInUp">Dec 18 2021</div>
      
    </div>
    <div class="post-content-inner">
      <div class="post-content-inner-space">

      </div>
      <div class="post-content-main animate__animated  animate__fadeInUp">
        <!-- topå‹ç›®å½• -->
        
        <p>n</p>
<h1 id="è‡ªä»æœ‰äº†pyquery-æˆ‘æ‰‹é‡Œçš„xpathç¬é—´ä»–å°±ä¸é¦™äº†"><a href="#è‡ªä»æœ‰äº†pyquery-æˆ‘æ‰‹é‡Œçš„xpathç¬é—´ä»–å°±ä¸é¦™äº†" class="headerlink" title="è‡ªä»æœ‰äº†pyquery,æˆ‘æ‰‹é‡Œçš„xpathç¬é—´ä»–å°±ä¸é¦™äº†"></a><strong>è‡ªä»æœ‰äº†pyquery,æˆ‘æ‰‹é‡Œçš„xpathç¬é—´ä»–å°±ä¸é¦™äº†</strong></h1>
        <span class="lazyload-img-span">
        <img   
           data-src="https://tva1.sinaimg.cn/large/006xl9pBly1gxi5fffszwj30p00an453.jpg" >
        </sapn>
      

<p>ğŸ“¢ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<strong>å°èœç‹—åŒå­¦</strong>ï¼Œä¸€åå¤§ä¸€çš„åç«¯çˆ±å¥½è€…</p>
<p>ğŸ“¢ è¿™ç¯‡æ–‡ç« å°†è®²è§£çˆ¬è™«ä¸­è§£æpysqueryçš„ç”¨æ³•</p>
<p>ğŸ“¢ éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œä¸å¯¹çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ ğŸ˜˜ğŸ˜˜</p>
<p>ğŸ“¢ æ„¿ä½ å¿ äºè‡ªå·±ï¼Œçƒ­çˆ±ç”Ÿæ´»ï¼Œç”Ÿæ´»ä¸­ä¸ä»…è¦æœ‰æŠ€æœ¯ï¼Œæ›´æœ‰è¯—å’Œè¿œæ–¹ã€‚</p>
<p>ğŸ“¢æœ¬æ–‡å†…å®¹å‚è€ƒ   å´”åº†æ‰&lt;ç½‘ç»œçˆ¬è™«å¼€å‘å®æˆ˜ç¬¬äºŒç‰ˆ&gt;  </p>
<h2 id="1-å¦‚ä½•å®‰è£…biaoq"><a href="#1-å¦‚ä½•å®‰è£…biaoq" class="headerlink" title="1.å¦‚ä½•å®‰è£…biaoq"></a>1.å¦‚ä½•å®‰è£…biaoq</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyquery</span><br></pre></td></tr></table></figure>

<p>æ›´åŠ è¯¦ç»†çš„å®‰è£…å¯ä»¥å‚è€ƒ<strong>å´”åº†æ‰</strong>å¤§ä½¬ï¼Œ<a target="_blank" rel="noopener" href="https://cuiqingcai.com/5186.html">https://cuiqingcai.com/5186.html</a></p>
<h2 id="2-ä¸ºä½•é€‰æ‹©ä½¿ç”¨pyquery"><a href="#2-ä¸ºä½•é€‰æ‹©ä½¿ç”¨pyquery" class="headerlink" title="2. ä¸ºä½•é€‰æ‹©ä½¿ç”¨pyquery"></a>2. ä¸ºä½•é€‰æ‹©ä½¿ç”¨pyquery</h2><p>æˆ‘ä»¬çŸ¥é“ç›®å‰ä¸»æµçš„çˆ¬è™«è§£æåº“ï¼š</p>
<ul>
<li>PyQuery</li>
<li>Beautifulsoup</li>
<li>Scrapy Selectors</li>
<li>æ­£åˆ™è¡¨è¾¾å¼</li>
<li>xpath</li>
</ul>
<p>PyQueryå’Œscrapy Selectorséƒ½æ˜¯åŸºäº<strong>lxml</strong>æ¨¡å—ï¼Œxlmlå’Œæ­£åˆ™æ˜¯åŸºäºCå†™çš„ï¼Œåªæœ‰Beautifulsoupæ˜¯ç”¨çº¯pythonå†™çš„ï¼Œæ‰€ä»¥è§£æé€Ÿåº¦ï¼Œæ¯«æ— ç–‘é—®Beautifulsoupæ¯”å…¶å®ƒè§£ææ»¡äº†äº”å€ä»¥ä¸Šã€‚è€Œæ­£åˆ™è¡¨è¾¾å¼æ¯”è¾ƒå¤æ‚ å®¹æ˜“å‡ºé”™ï¼Œ<strong>pyquery</strong>ç›¸è¾ƒäºxpathæ›´ç®€æ´ã€‚<strong>ä½ ä¿¡ä¸ä¿¡å½“ä½ çœ‹å®Œï¼Œä½ ä¼šè§‰å¾—ä½ æ‰‹é‡Œçš„è¿™äº›ä»–éƒ½ä¸é¦™äº†</strong></p>

        <span class="lazyload-img-span">
        <img   
           data-src="https://tva1.sinaimg.cn/large/006xl9pBly1gxi5klkpdkj310m0rg1cs.jpg" >
        </sapn>
      

<h2 id="ä¸ä¿¡ï¼Ÿä¸‹é¢æ¥ç”¨ä¸€ä¸ªå®ä¾‹æ„Ÿå—ä¸€ä¸‹"><a href="#ä¸ä¿¡ï¼Ÿä¸‹é¢æ¥ç”¨ä¸€ä¸ªå®ä¾‹æ„Ÿå—ä¸€ä¸‹" class="headerlink" title="ä¸ä¿¡ï¼Ÿä¸‹é¢æ¥ç”¨ä¸€ä¸ªå®ä¾‹æ„Ÿå—ä¸€ä¸‹"></a>ä¸ä¿¡ï¼Ÿä¸‹é¢æ¥ç”¨ä¸€ä¸ªå®ä¾‹æ„Ÿå—ä¸€ä¸‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼•å…¥å¯¹è±¡ å–åˆ«å</span></span><br><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq</span><br><span class="line"></span><br><span class="line">html = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"><span class="string">    &lt;ul&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">     &lt;/ul&gt;</span></span><br><span class="line"><span class="string"> &lt;/div&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line">doc = pq(html)</span><br><span class="line"><span class="comment"># ä¼ å…¥lièŠ‚ç‚¹ è¿™æ ·å°±å¯ä»¥é€‰å–æ‰€æœ‰lièŠ‚ç‚¹äº†</span></span><br><span class="line"><span class="built_in">print</span>(doc(<span class="string">&#x27;li&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">out:     &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;first item&lt;/li&gt;</span><br><span class="line">         &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-1&quot;</span>&gt;&lt;a href=<span class="string">&quot;link2.html&quot;</span>&gt;second item&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">         &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-0 active&quot;</span>&gt;&lt;a href=<span class="string">&quot;link3.html&quot;</span>&gt;&lt;span <span class="keyword">class</span>=<span class="string">&quot;bold&quot;</span>&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">         &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-1 active&quot;</span>&gt;&lt;a href=<span class="string">&quot;link4.html&quot;</span>&gt;fourth item&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">         &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;&lt;a href=<span class="string">&quot;link5.html&quot;</span>&gt;fifth item&lt;/a&gt;&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<h2 id="URLåˆå§‹åŒ–"><a href="#URLåˆå§‹åŒ–" class="headerlink" title="URLåˆå§‹åŒ–"></a>URLåˆå§‹åŒ–</h2><p>åˆå§‹åŒ–çš„å‚æ•°é™¤äº†å¯ä»¥ç”¨å­—ç¬¦ä¸²è¿˜å¯ä»¥ä½¿ç”¨urlçš„æ–¹å¼ä¼ é€’ï¼Œåªéœ€è¦æŒ‡å®šPyqueryçš„<strong>å¯¹è±¡å‚æ•°ä¸ºurl</strong>å³å¯</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">doc = pq(url=<span class="string">&#x27;https://cuiqingcai.com&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(doc(<span class="string">&#x27;title&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">out:/ &lt;title&gt;é™è§…ä¸¨å´”åº†æ‰çš„ä¸ªäººç«™ç‚¹&lt;\title&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿé¦–å…ˆPyqueryå¯¹è±¡ä¼šå»è¯·æ±‚è¿™ä¸ªurlï¼Œç„¶åå¾—åˆ°<strong>URL</strong>è¿”å›çš„å†…å®¹åˆå§‹åŒ–ç»™pqç±»</p>

        <span class="lazyload-img-span">
        <img   
           data-src="https://tva1.sinaimg.cn/large/006xl9pBly1gxi2z3nkmpj30pw0eqal0.jpg" >
        </sapn>
      

<h2 id="æ–‡ä»¶åˆå§‹åŒ–"><a href="#æ–‡ä»¶åˆå§‹åŒ–" class="headerlink" title="æ–‡ä»¶åˆå§‹åŒ–"></a>æ–‡ä»¶åˆå§‹åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">doc = pq(filename=<span class="string">&#x27;demo.html&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(doc(<span class="string">&#x27;li&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å®ƒä¼šå…ˆè¯»å–æœ¬åœ°çš„æ–‡ä»¶å†…å®¹ï¼Œç„¶åå°†æ–‡ä»¶å†…å®¹ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä¼ é€’ç»™ pyquery ç±»æ¥åˆå§‹åŒ–ã€‚</p>
<h2 id="åŸºæœ¬CSSé€‰æ‹©å™¨"><a href="#åŸºæœ¬CSSé€‰æ‹©å™¨" class="headerlink" title="åŸºæœ¬CSSé€‰æ‹©å™¨"></a>åŸºæœ¬CSSé€‰æ‹©å™¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">html = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;div id=&quot;container&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;ul class=&quot;list&quot;&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">     &lt;/ul&gt;</span></span><br><span class="line"><span class="string"> &lt;/div&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq</span><br><span class="line">doc = pq(html)</span><br><span class="line"><span class="built_in">print</span>(doc(<span class="string">&#x27;#container .list li&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(doc(<span class="string">&#x27;#container .list li&#x27;</span>)))</span><br><span class="line"></span><br><span class="line">out: 	 &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;first item&lt;/li&gt;</span><br><span class="line">         &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-1&quot;</span>&gt;&lt;a href=<span class="string">&quot;link2.html&quot;</span>&gt;second item&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">         &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-0 active&quot;</span>&gt;&lt;a href=<span class="string">&quot;link3.html&quot;</span>&gt;&lt;span <span class="keyword">class</span>=<span class="string">&quot;bold&quot;</span>&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">         &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-1 active&quot;</span>&gt;&lt;a href=<span class="string">&quot;link4.html&quot;</span>&gt;fourth item&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">         &lt;li <span class="keyword">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;&lt;a href=<span class="string">&quot;link5.html&quot;</span>&gt;fifth item&lt;/a&gt;&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬åˆå§‹åŒ–åï¼Œç»™docä¼ å…¥äº†ä¸€ä¸ªCSSé€‰æ‹©å™¨#container .list li <strong>æ„æ€æ˜¯å…ˆé€‰å–idä¸ºcontainerçš„èŠ‚ç‚¹ï¼Œå†é€‰å–å…¶å†…éƒ¨classä¸ºlistçš„æ‰€æœ‰lièŠ‚ç‚¹</strong></p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬ç›´æ¥éå†è¿™äº›èŠ‚ç‚¹ï¼Œç„¶åè°ƒç”¨ text æ–¹æ³•ï¼Œå°±å¯ä»¥è·å–èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">doc = pq(html)</span><br><span class="line">lis = doc(<span class="string">&#x27;#container .list li&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> lis.items():</span><br><span class="line">    <span class="comment"># æå–lièŠ‚ç‚¹çš„æ‰€æœ‰æ–‡æœ¬å†…å®¹</span></span><br><span class="line">    <span class="built_in">print</span>(item.text())</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥æ‰¾å­èŠ‚ç‚¹"><a href="#æŸ¥æ‰¾å­èŠ‚ç‚¹" class="headerlink" title="æŸ¥æ‰¾å­èŠ‚ç‚¹"></a>æŸ¥æ‰¾å­èŠ‚ç‚¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">doc = pq(html)</span><br><span class="line"><span class="comment"># é€‰å–classä¸ºlistçš„èŠ‚ç‚¹</span></span><br><span class="line">items = doc(<span class="string">&#x27;.list&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(items)</span><br><span class="line">lis = items.find(<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(lis))</span><br><span class="line"><span class="built_in">print</span>(lis)</span><br></pre></td></tr></table></figure>

<p>find çš„æŸ¥æ‰¾èŒƒå›´æ˜¯èŠ‚ç‚¹çš„æ‰€æœ‰å­å­™èŠ‚ç‚¹,è€Œå¦‚æœæˆ‘ä»¬åªæƒ³æŸ¥æ‰¾å­èŠ‚ç‚¹ï¼Œé‚£å¯ä»¥ç”¨ <strong>children</strong> æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lis = items.children()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(lis))</span><br><span class="line"><span class="built_in">print</span>(lis)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦ç­›é€‰æ‰€æœ‰<strong>å­èŠ‚ç‚¹</strong>ä¸­ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚æƒ³ç­›é€‰å‡º<strong>å­èŠ‚ç‚¹ä¸­ class ä¸º active çš„èŠ‚ç‚¹</strong>ï¼Œå¯ä»¥å‘ children æ–¹æ³•ä¼ å…¥ CSS é€‰æ‹©å™¨ .activeï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">doc = pq(html)</span><br><span class="line">items = doc(<span class="string">&#x27;.list&#x27;</span>)</span><br><span class="line">a = items.children(<span class="string">&#x27;.item-1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çœ‹åˆ°è¾“å‡ºçš„ç»“æœå·²ç»åšäº†ç­›é€‰ï¼Œç•™ä¸‹äº† class ä¸º .item-1 çš„èŠ‚ç‚¹ã€‚</p>
<h2 id="çˆ¶èŠ‚ç‚¹"><a href="#çˆ¶èŠ‚ç‚¹" class="headerlink" title="çˆ¶èŠ‚ç‚¹"></a>çˆ¶èŠ‚ç‚¹</h2><p> items.parent()æ–¹æ³• <strong>è¿”å›æ‰€æœ‰çš„ çˆ¶è¾ˆèŠ‚ç‚¹</strong> å¦‚æœéœ€è¦ç­›é€‰ åœ¨å…¶ä¸­ä¼ å…¥CSSé€‰æ‹©å™¨</p>
<p>å¦‚æœæƒ³è¿”å›ç¥–å…ˆèŠ‚ç‚¹ <strong>ites.parents()å³å¯</strong>*</p>
<h2 id="å…„å¼ŸèŠ‚ç‚¹"><a href="#å…„å¼ŸèŠ‚ç‚¹" class="headerlink" title="å…„å¼ŸèŠ‚ç‚¹"></a>å…„å¼ŸèŠ‚ç‚¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">doc = pq(html)</span><br><span class="line"><span class="comment"># è¿™é‡Œéœ€è¦æ³¨æ„ è¿™ä¸¤ç§æ˜¯æˆªç„¶ä¸åŒçš„æ„ä¹‰</span></span><br><span class="line"><span class="comment">#åœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬é¦–å…ˆé€‰æ‹© class ä¸º list çš„èŠ‚ç‚¹ï¼Œå†…éƒ¨ class ä¸º item-0 å’Œ active çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç¬¬ 3 ä¸ª li èŠ‚ç‚¹ã€‚å¾ˆæ˜æ˜¾ï¼Œå®ƒçš„å…„å¼ŸèŠ‚ç‚¹æœ‰ 4 ä¸ªï¼Œé‚£å°±æ˜¯ç¬¬ 1ã€2ã€4ã€5 ä¸ª li èŠ‚ç‚¹ã€‚</span></span><br><span class="line">li = doc(<span class="string">&#x27;.list .item-0.active&#x27;</span>)</span><br><span class="line"><span class="comment"># è¿™ä¸ªå†™æ³•è¡¨æ˜é¦–å…ˆå–classä¸ºlistçš„èŠ‚ç‚¹,å†…éƒ¨classä¸ºitem-0çš„èŠ‚ç‚¹,ä¹‹åå†é€‰å–å…¶å†…éƒ¨ä¸ºactiveçš„èŠ‚ç‚¹</span></span><br><span class="line">li = doc(<span class="string">&#x27;.list .item-0 .active&#x27;</span>)</span><br><span class="line"><span class="comment"># å¯¹å…„å¼ŸèŠ‚ç‚¹å†åšç­›é€‰</span></span><br><span class="line"><span class="built_in">print</span>(li.siblings(<span class="string">&#x27;.active&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(li.siblings())</span><br></pre></td></tr></table></figure>

<h2 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h2><p>pyquery çš„é€‰æ‹©ç»“æœæ—¢å¯èƒ½æ˜¯å¤šä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½æ˜¯å•ä¸ªèŠ‚ç‚¹ï¼Œç±»å‹éƒ½æ˜¯ pyquery ç±»å‹ï¼Œå¹¶æ²¡æœ‰è¿”å›åˆ—è¡¨ã€‚</p>
<p>å¯¹äºå•ä¸ªèŠ‚ç‚¹æ¥è¯´ï¼Œå¯ä»¥ç›´æ¥æ‰“å°è¾“å‡ºï¼Œä¹Ÿå¯ä»¥ç›´æ¥è½¬æˆå­—ç¬¦ä¸²</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq</span><br><span class="line">doc = pq(html)</span><br><span class="line">li = doc(<span class="string">&#x27;.item-0.active&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>(li))</span><br></pre></td></tr></table></figure>

<p>å¯¹äºæœ‰å¤šä¸ªèŠ‚ç‚¹çš„ç»“æœï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨éå†æ¥è·å–äº†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦æŠŠæ¯ä¸€ä¸ª li èŠ‚ç‚¹è¿›è¡Œéå†ï¼Œéœ€è¦è°ƒç”¨ items æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lis = doc(<span class="string">&#x27;li&#x27;</span>).items()</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨ items æ–¹æ³•åï¼Œä¼šå¾—åˆ°ä¸€ä¸ª<strong>ç”Ÿæˆå™¨</strong>ï¼Œéå†ä¸€ä¸‹ï¼Œå°±å¯ä»¥é€ä¸ªå¾—åˆ° <strong>li èŠ‚ç‚¹å¯¹è±¡äº†</strong>,æ¯ä¸ªå¯¹è±¡éå¸¸çµæ´»ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨å¦‚ä¸Šçš„æ–¹æ³•ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">doc = pq(html)</span><br><span class="line">lis = doc(<span class="string">&quot;li&quot;</span>).items()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> lis:</span><br><span class="line">    <span class="built_in">print</span>(i.text())</span><br></pre></td></tr></table></figure>

<h2 id="è·å–ä¿¡æ¯"><a href="#è·å–ä¿¡æ¯" class="headerlink" title="è·å–ä¿¡æ¯"></a>è·å–ä¿¡æ¯</h2><ul>
<li><p>è·å–å±æ€§</p>
</li>
<li><pre><code class="python">html = &#39;&#39;&#39;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&#39;&#39;&#39;

doc = pq(html)
a = doc(&#39;.item-0.active a&#39;)
# print(a, type(a))
print(a.attr(&#39;href&#39;))


# link3.html
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  å½“è¿”å›ç»“æœåŒ…å«å¤šä¸ªèŠ‚ç‚¹æ—¶ï¼Œè°ƒç”¨ attr æ–¹æ³•ï¼Œåªä¼šå¾—åˆ°ç¬¬ 1 ä¸ªèŠ‚ç‚¹çš„å±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">- è·å–æ–‡æœ¬</span><br><span class="line"></span><br><span class="line">  å¾ˆç®€å•</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  print(a.text())</span><br></pre></td></tr></table></figure>

ä½†å¦‚æœä½ æƒ³è¦è·å–è¿™ä¸ªèŠ‚ç‚¹å†…éƒ¨çš„ HTML æ–‡æœ¬ï¼Œå°±è¦ç”¨ html æ–¹æ³•äº†ï¼š

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(a.html())</span><br></pre></td></tr></table></figure>

text æ–¹æ³•ä¸éœ€è¦éå†å°±å¯ä»¥è·å–ï¼Œå®ƒå°†æ‰€æœ‰èŠ‚ç‚¹å–æ–‡æœ¬ä¹‹ååˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

html éœ€è¦éå†è·å– ä¸ç„¶åªèƒ½è¿”å›ä¸€ä¸ª
</code></pre>
</li>
</ul>
<h2 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h2><p>remove æ–¹æ³•å°±æ˜¯ç§»é™¤</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">html = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;div class=&quot;wrap&quot;&gt;</span></span><br><span class="line"><span class="string">    Hello, World</span></span><br><span class="line"><span class="string">    &lt;p&gt;This is a paragraph.&lt;/p&gt;</span></span><br><span class="line"><span class="string"> &lt;/div&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq</span><br><span class="line">doc = pq(html)</span><br><span class="line">wrap = doc(<span class="string">&#x27;.wrap&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(wrap.text())</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¦‚æœæ­¤æ—¶åªæƒ³è¦Hello worldæ€ä¹ˆåŠï¼Œç›´æ¥ä½¿ç”¨text()å…¨éƒ¨æå–äº†</p>
<p>è¿™æ—¶ remove æ–¹æ³•å°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wrap.remove(<span class="string">&#x27;p&#x27;</span>)  <span class="comment"># é€‰ä¸­pèŠ‚ç‚¹ removeç§»é™¤å³å¯</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¼ªç±»é€‰æ‹©å™¨"><a href="#ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="ä¼ªç±»é€‰æ‹©å™¨"></a>ä¼ªç±»é€‰æ‹©å™¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">li = doc(<span class="string">&#x27;li:first-child&#x27;</span>)  <span class="comment"># ç¬¬ä¸€ä¸ª</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">li = doc(<span class="string">&#x27;li:last-child&#x27;</span>)  <span class="comment">#æœ€åä¸€ä¸ª</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">li = doc(<span class="string">&#x27;li:nth-child(2)&#x27;</span>)  <span class="comment"># ç¬¬äºŒä¸ªä¹‹å</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">li = doc(<span class="string">&#x27;li:gt(2)&#x27;</span>)  <span class="comment"># ç¬¬ä¸‰ä¸ªä¹‹å</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">li = doc(<span class="string">&#x27;li:nth-child(2n)&#x27;</span>) <span class="comment"># å¶æ•°</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line">li = doc(<span class="string">&#x27;li:contains(second)&#x27;</span>) <span class="comment">#åŒ…å«æ–‡æœ¬secondçš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br></pre></td></tr></table></figure>

<h2 id="THE-LAST"><a href="#THE-LAST" class="headerlink" title="THE LAST"></a>THE LAST</h2><p>å…³äº CSS é€‰æ‹©å™¨çš„æ›´å¤šç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒï¼š<a target="_blank" rel="noopener" href="http://pyquery.readthedocs.io/en/latest/api.html%E3%80%82">http://pyquery.readthedocs.io/en/latest/api.htmlã€‚</a></p>
<p>å…³äºpyqueryæ›´å¤šè¯´æ˜:<a target="_blank" rel="noopener" href="http://pyquery.readthedocs.io/">http://pyquery.readthedocs.io</a></p>
<p>æ€ä¹ˆæ · æ˜¯ä¸æ˜¯æ„Ÿè§‰æ‰‹é‡Œçš„xpathç¬é—´ä»–å°±ä¸é¦™äº†</p>
<p>æ±‚ğŸ‘æ±‚ğŸ’—</p>

        <span class="lazyload-img-span">
        <img   
           data-src="https://tva1.sinaimg.cn/large/006xl9pBly1gxi5mjrptaj30j60j610a.jpg" >
        </sapn>
      
        <!-- åˆ†ç±»æ–‡ç«  -->
        
      </div>
      <div class="post-content-inner-space">
        
          <div class="space-toc-main animate__animated  animate__fadeInUp">
            <ol class="space-toc"><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#1-%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85biaoq"><span class="space-toc-text">1.å¦‚ä½•å®‰è£…biaoq</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#2-%E4%B8%BA%E4%BD%95%E9%80%89%E6%8B%A9%E4%BD%BF%E7%94%A8pyquery"><span class="space-toc-text">2. ä¸ºä½•é€‰æ‹©ä½¿ç”¨pyquery</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E4%B8%8D%E4%BF%A1%EF%BC%9F%E4%B8%8B%E9%9D%A2%E6%9D%A5%E7%94%A8%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B%E6%84%9F%E5%8F%97%E4%B8%80%E4%B8%8B"><span class="space-toc-text">ä¸ä¿¡ï¼Ÿä¸‹é¢æ¥ç”¨ä¸€ä¸ªå®ä¾‹æ„Ÿå—ä¸€ä¸‹</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#URL%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="space-toc-text">URLåˆå§‹åŒ–</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E6%96%87%E4%BB%B6%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="space-toc-text">æ–‡ä»¶åˆå§‹åŒ–</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E5%9F%BA%E6%9C%ACCSS%E9%80%89%E6%8B%A9%E5%99%A8"><span class="space-toc-text">åŸºæœ¬CSSé€‰æ‹©å™¨</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E6%9F%A5%E6%89%BE%E5%AD%90%E8%8A%82%E7%82%B9"><span class="space-toc-text">æŸ¥æ‰¾å­èŠ‚ç‚¹</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E7%88%B6%E8%8A%82%E7%82%B9"><span class="space-toc-text">çˆ¶èŠ‚ç‚¹</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9"><span class="space-toc-text">å…„å¼ŸèŠ‚ç‚¹</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E9%81%8D%E5%8E%86"><span class="space-toc-text">éå†</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E8%8E%B7%E5%8F%96%E4%BF%A1%E6%81%AF"><span class="space-toc-text">è·å–ä¿¡æ¯</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#remove"><span class="space-toc-text">remove</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E4%BC%AA%E7%B1%BB%E9%80%89%E6%8B%A9%E5%99%A8"><span class="space-toc-text">ä¼ªç±»é€‰æ‹©å™¨</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#THE-LAST"><span class="space-toc-text">THE LAST</span></a></li></ol>
           </div>
        
      </div>
   </div>
    <!-- è¯„è®º -->
    
  </div>
</article>
  </div>
</div>



<!-- å¦‚æœæ˜¯homeæ¨¡å¼çš„è¯ï¼Œä¸åœ¨é¦–é¡µå°±æ˜¾ç¤ºfooterï¼Œå¦‚æœä¸æ˜¯homeæ¨¡å¼çš„è¯ æ‰€æœ‰éƒ½æ˜¾ç¤ºfooter -->

  <div class="footer-outer animate__animated  animate__fadeInUp">
    <div class="footer-inner">
    <div class="footer-text">
    <p>Power by <a target="_blank" rel="noopener" href="http://hexo.io/">Hexo</a> Theme by <a target="_blank" rel="noopener" href="https://github.com/FuShaoLei/hexo-theme-white">White</a></p>

    </div>
    <div class="footer-contact">
    <ul class="footer-ul">
        
        <li class="footer-li">
            <a href="https://github.com/FuShaoLei/hexo-theme-white" target="_blank">
                <i class="ri-github-line"></i>
            </a>
        </li>
        
        <li class="footer-li">
            <a href="mailto:1563250958@qq.com" target="_blank">
                <i class="ri-mail-line"></i>
            </a>
        </li>
        
    </ul>
    </div>
    </div>
</div>






<script src="/js/white.js"></script>



    
      
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>

      <script>hljs.initHighlightingOnLoad();</script>
    

</body>
</html>
